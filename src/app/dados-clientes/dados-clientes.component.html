<div style="margin-left: 340px" class="overflow-x-hidden">
  <div class="flex justify-content-center">
    <h1>Clientes</h1>
  </div>

  <div>
    <p-table
      [value]="clientes"
      dataKey="nome"
      [(selection)]="vp.selectedCliente"
      sortField="nome"
    >
      <ng-template pTemplate="header">
        <tr>
          <th style="background-color: transparent">
            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
          </th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-cliente let-expanded="expanded">
        <tr
          style="
            background-color: #0169b4;
            opacity: 0.85;
            color: white;
            font-weight: bold;
          "
        >
          <td>
            <p-tableCheckbox [value]="cliente"></p-tableCheckbox>
          </td>
          <td>
            <button
              type="button"
              pButton
              pRipple
              [pRowToggler]="cliente"
              class="p-button-text p-button-rounded p-button-plain"
              [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"
            ></button>
          </td>
          <td>{{ cliente.codigo }}</td>
          <td>
            {{ cliente.nome }}
          </td>
          <td>{{ cliente.gestor }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="rowexpansion" let-cliente>
        <tr>
          <td colspan="7">
            <div class="p-3">
              <p-table [value]="cliente.dados" dataKey="linhaDeProduto">
                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="linhaDeProduto">
                      Linha De Produto
                      <p-sortIcon field="linhaDeProduto"></p-sortIcon>
                    </th>
                    <th pSortableColumn="modulo">
                      Módulo <p-sortIcon field="modulo"></p-sortIcon>
                    </th>
                    <th pSortableColumn="familia">
                      Família <p-sortIcon field="familia"></p-sortIcon>
                    </th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-dados>
                  <tr>
                    <td>{{ dados.linhaDeProduto }}</td>
                    <td>{{ dados.modulo }}</td>
                    <td>{{ dados.familia }}</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
